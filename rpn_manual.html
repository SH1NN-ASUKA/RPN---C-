<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>RPN 计算器使用说明书</title>
  <style>
    body { font-family: "Arial", sans-serif; max-width: 900px; margin: 20px auto; padding: 0 20px; }
    h1, h2, h3 { color: #2d3748; border-bottom: 1px solid #e2e8f0; padding-bottom: 5px; }
    pre { background-color: #f7fafc; padding: 12px; border-radius: 4px; overflow-x: auto; }
    code { color: #e53e3e; font-family: "Courier New", monospace; }
    table { border-collapse: collapse; width: 100%; margin: 15px 0; }
    th, td { border: 1px solid #e2e8f0; padding: 10px; text-align: left; }
    th { background-color: #f7fafc; }
    ul, ol { margin-top: 0; }
  </style>
</head>
<body>
  <h1>RPN 计算器使用说明书</h1>

  <h2>1. 软件概述</h2>
  <p>本软件是基于 C++ 开发的逆波兰表示法（RPN）计算器，支持基础算术运算和斐波那契数列计算，提供历史记录查询和栈管理功能。</p>

  <h2>2. 安装与编译</h2>
  <h3>2.1 环境要求</h3>
  <ul>
    <li>操作系统：Ubuntu 20.04 LTS 及以上 / Debian 11 及以上</li>
    <li>编译器：GCC 9.0 及以上（支持 C++11 标准）</li>
    <li>依赖：无额外第三方库，仅需标准 C++ 库</li>
  </ul>

  <h3>2.2 编译步骤</h3>
  <ol>
    <li><strong>进入项目目录</strong>：打开终端，输入以下命令并回车，进入存放计算器代码的目录（假设目录为 <code>~/rpn_calc</code>）。
      <pre><code>cd ~/rpn_calc</code></pre>
    </li>
    <li><strong>编译 C++ 代码</strong>：在项目目录下，输入以下命令，使用 <code>g++</code> 编译器编译 <code>rpn_calc.cpp</code> 文件，生成名为 <code>rpn_calc</code> 的可执行文件（<code>-std=c++11</code> 表示使用 C++11 标准）。
      <pre><code>g++ rpn_calc.cpp -o rpn_calc -std=c++11</code></pre>
      - 若编译成功，终端无错误提示；若有错误（如代码语法错误），需根据提示修改代码后重新编译。
    </li>
    <li><strong>运行计算器程序</strong>：编译成功后，输入以下命令运行生成的可执行文件。
      <pre><code>./rpn_calc</code></pre>
    </li>
  </ol>

  <h2>3. 使用方法</h2>
  <h3>3.1 基本操作</h3>
  <p>计算器采用逆波兰表示法（后缀表达式），需先输入数字，再输入运算符。例如：计算 <code>5 + 3</code>，需输入 <code>5 3 +</code>。</p>

  <h3>3.2 支持的运算符与命令</h3>
  <table>
    <tr>
      <th>输入格式</th>
      <th>功能说明</th>
      <th>示例</th>
    </tr>
    <tr>
      <td><code>数字</code></td>
      <td>将数字压入操作栈</td>
      <td><code>10</code>（栈内：[10]）</td>
    </tr>
    <tr>
      <td><code>+</code></td>
      <td>弹出栈顶两个数字，计算和并压栈</td>
      <td><code>10 3 +</code>（结果：13）</td>
    </tr>
    <tr>
      <td><code>-</code></td>
      <td>弹出栈顶两个数字，计算差（后数减前数）并压栈</td>
      <td><code>10 3 -</code>（结果：7）</td>
    </tr>
    <tr>
      <td><code>*</code></td>
      <td>弹出栈顶两个数字，计算积并压栈</td>
      <td><code>10 3 *</code>（结果：30）</td>
    </tr>
    <tr>
      <td><code>/</code></td>
      <td>弹出栈顶两个数字，计算商（后数除前数，整数除法）并压栈</td>
      <td><code>10 3 /</code>（结果：3）</td>
    </tr>
    <tr>
      <td><code>fib</code></td>
      <td>弹出栈顶数字 <code>n</code>，计算第 <code>n</code> 个斐波那契数并压栈（<code>n ≥ 1</code>）</td>
      <td><code>5 fib</code>（结果：5，数列：1,1,2,3,5）</td>
    </tr>
    <tr>
      <td><code>clear</code></td>
      <td>清空操作栈</td>
      <td><code>clear</code>（栈内：[]）</td>
    </tr>
    <tr>
      <td><code>stack</code></td>
      <td>显示当前栈内所有数字</td>
      <td><code>stack</code>（输出：栈内：[10, 3]）</td>
    </tr>
    <tr>
      <td><code>history</code></td>
      <td>显示所有计算历史记录</td>
      <td><code>history</code>（输出：1. 10 3 + → 13）</td>
    </tr>
    <tr>
      <td><code>q</code></td>
      <td>退出计算器程序</td>
      <td><code>q</code>（程序关闭）</td>
    </tr>
  </table>

  <h2>4. 常见错误与解决方案</h2>
  <table>
    <tr>
      <th>错误现象</th>
      <th>触发原因</th>
      <th>解决方案</th>
    </tr>
    <tr>
      <td>提示“栈元素不足”</td>
      <td>运算符所需数字不够（如直接输入 <code>+</code>）</td>
      <td>先输入足够数字再使用运算符（如 <code>5 3 +</code>）</td>
    </tr>
    <tr>
      <td>提示“除零错误”</td>
      <td>除法运算中除数为 0（如 <code>5 0 /</code>）</td>
      <td>确保除法运算时，后一个输入的数字不为 0</td>
    </tr>
    <tr>
      <td>提示“无效输入”</td>
      <td>输入非数字、非运算符、非命令的字符（如 <code>a 5 +</code>）</td>
      <td>仅输入整数、支持的运算符（+/-/*//fib）或命令（clear/stack/history/q）</td>
    </tr>
    <tr>
      <td>斐波那契计算错误</td>
      <td>输入的 <code>n</code> 为 0 或负数（如 <code>0 fib</code>）</td>
      <td>确保输入的 <code>n</code> 为正整数（如 <code>6 fib</code>，结果：8）</td>
    </tr>
  </table>

  <h2>5. 完整使用示例</h2>
  <pre><code># 启动计算器
~/rpn_calc$ ./rpn_calc
欢迎使用 RPN 计算器！输入 'q' 退出，'help' 查看帮助。

# 1. 计算 10 + (2 * 3)（后缀表达式：10 2 3 * +）
> 10 2 3 * +
结果：16

# 2. 查看当前栈（计算后栈为空）
> stack
栈内：[]

# 3. 计算第 6 个斐波那契数
> 6 fib
结果：8

# 4. 查看计算历史
> history
1. 10 2 3 * + → 16
2. 6 fib → 8

# 5. 清空栈
> clear
栈已清空

# 6. 退出程序
> q
感谢使用，再见！</code></pre>
</body>
</html>

